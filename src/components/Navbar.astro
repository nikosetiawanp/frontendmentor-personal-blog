---
import Divider from "./Divider.astro";

const navLinks = [
  { name: "Home", href: import.meta.env.BASE_URL },
  { name: "Blog", href: import.meta.env.BASE_URL + "/blog" },
  { name: "About", href: import.meta.env.BASE_URL + "/about" },
  { name: "Newsletter", href: import.meta.env.BASE_URL + "/newsletter" },
];
---

<nav
  class="flex items-center w-full rounded-[10px] p-[6px] border border-neutral-700 bg-neutral-800 relative"
>
  <!-- image -->
  <div class="w-[40px] h-[40px] rounded-xl overflow-hidden mr-auto">
    <img
      src={import.meta.env.BASE_URL + "/assets/images/image-avatar.jpg"}
      alt="image-avatar"
    />
  </div>

  <!-- links -->
  <ul class="hidden lg:flex items-center gap-6 mr-5 ml-auto">
    {
      navLinks.map((navLink) => (
        <li>
          <a class="text-preset-8" href={navLink.href}>
            {navLink.name}
          </a>
        </li>
      ))
    }
  </ul>

  <!-- hamburger -->
  <button
    class="flex lg:hidden justify-center items-center w-[40px] h-[40px] rounded-lg hover:cursor-pointer ml-auto relative"
    id="hamburger"
  >
    <img
      src={import.meta.env.BASE_URL + "/assets/images/icon-menu.svg"}
      alt="icon-theme"
    />
  </button>

  <!-- theme button -->
  <button
    class="flex justify-center items-center w-[40px] h-[40px] rounded-lg border hover:cursor-pointer border-neutral-700 bg-neutral-900"
  >
    <img
      src={import.meta.env.BASE_URL + "/assets/images/icon-sun.svg"}
      alt="icon-theme"
    />
  </button>

  <!-- dropdown -->
  <div
    id="dropdown"
    class="hidden w-full h-fit bg-neutral-800 border border-neutral-700 p-3 rounded-[10px] absolute left-0 top-16 transition-all drop-shadow-2xl"
  >
    <ul class="flex flex-col gap-1.5 ml-auto">
      {
        navLinks.map((navLink, index) => (
          <>
            <li>
              <a class="text-preset-8" href={navLink.href}>
                {navLink.name}
              </a>
            </li>
            {index < navLinks.length - 1 && <Divider />}
          </>
        ))
      }
    </ul>
  </div>
</nav>

<script type="module">
  const hamburger = document.getElementById("hamburger");
  const dropdown = document.getElementById("dropdown");

  hamburger.addEventListener("click", () => {
    dropdown.classList.toggle("hidden");
  });
</script>
